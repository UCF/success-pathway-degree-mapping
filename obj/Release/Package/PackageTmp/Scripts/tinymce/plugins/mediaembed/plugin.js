/* Ephox Media Embed
 *
 * Copyright 2010-2017 Ephox Corporation. All rights reserved.
 *
 * Version: 1.0.2-36
 */

!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)};({}).bolt={module:{api:{define:c,require:e,demand:d}}};var f=c,g=function(a,b){f(a,[],function(){return b})};g("10",Array),f("1f",["10"],function(a){return{bounce:function(b){return function(){var c=a.prototype.slice.call(arguments),d=this;setTimeout(function(){b.apply(d,c)},0)}}}}),f("1g",[],function(){return function(a,b){return{get:b,map:function(c){return a(function(a){b(function(b){var d=c(b);a(d)})})},bind:function(c){return a(function(a){b(function(b){c(b).get(a)})})},anonBind:function(c){return a(function(a){b(function(b){c.get(a)})})}}}}),g("11",String),f("20",["10","11"],function(a,b){var c=function(a){return function(b){return a===b}},d=function(){var b=a.prototype.indexOf,d=function(a,c){return b.call(a,c)},e=function(a,b){return r(a,c(b))};return void 0===b?e:d}(),e=function(a,b){return d(a,b)>-1},f=function(a,b){return r(a,b)>-1},g=function(a,b){for(var c=[],d=0;d<a.length;d+=b){var e=a.slice(d,d+b);c.push(e)}return c},h=function(b,c){for(var d=b.length,e=new a(d),f=0;f<d;f++){var g=b[f];e[f]=c(g,f,b)}return e},i=function(a,b){for(var c=0,d=a.length;c<d;c++){b(a[c],c,a)}},j=function(a,b){for(var c=[],d=[],e=0,f=a.length;e<f;e++){var g=a[e];(b(g,e,a)?c:d).push(g)}return{pass:c,fail:d}},k=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},l=function(a,b){if(0===a.length)return[];for(var c=b(a[0]),d=[],e=[],f=0,g=a.length;f<g;f++){var h=a[f],i=b(h);i!==c&&(d.push(e),e=[]),c=i,e.push(h)}return 0!==e.length&&d.push(e),d},m=function(a,b,c){return n(z(a),b,c)},n=function(a,b,c){return i(a,function(a){c=b(c,a)}),c},o=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e,c,a))return e}},p=function(a,b,c){var d=o(a,b);return void 0!==d?d:c},q=function(a,c,d){var e=o(a,c);if(void 0===e)throw d||"Could not find element in array: "+b(a);return e},r=function(a,b){for(var c=b||v,d=0,e=a.length;d<e;++d)if(!0===c(a[d]))return d;return-1},s=a.prototype.push,t=function(a){for(var b=[],c=0,d=a.length;c<d;++c)s.apply(b,a[c]);return b},u=function(a,b){var c=h(a,b);return t(c)},v=c(!0),w=function(a,b){for(var c=b||v,d=0,e=a.length;d<e;++d)if(!0!==c(a[d],d))return!1;return!0},x=function(a,b){return a.length===b.length&&w(a,function(a,c){return a===b[c]})},y=a.prototype.slice,z=function(a){var b=y.call(a,0);return b.reverse(),b};return{map:h,each:i,partition:j,filter:k,groupBy:l,indexOf:d,foldr:m,foldl:n,find:o,findIndex:r,findOr:p,findOrDie:q,flatten:t,bind:u,forall:w,exists:f,contains:e,equal:x,reverse:z,chunk:g,difference:function(a,b){return k(a,function(a){return!e(b,a)})},mapToObject:function(a,c){for(var d={},e=0,f=a.length;e<f;e++){var g=a[e];d[b(g)]=c(g,e)}return d},pure:function(a){return[a]}}}),f("1h",["20"],function(a){return function(b){var c=function(a){return b(function(b){b(a)})},d=function(c){return b(function(b){var d=[],e=0,f=function(a){return function(f){d[a]=f,++e>=c.length&&b(d)}};0===c.length?b([]):a.each(c,function(a,b){a.get(f(b))})})};return{nu:b,pure:c,par:d,mapM:function(b,c){return d(a.map(b,c))},lift2:function(a,c,d){return b(function(b){var e=!1,f=!1,g=void 0,h=void 0,i=function(){if(e&&f){var a=d(g,h);b(a)}};a.get(function(a){g=a,e=!0,i()}),c.get(function(a){h=a,f=!0,i()})})},compose:function(a,b){return function(c){return b(c).bind(a)}}}}}),f("q",["1f","1g","1h"],function(a,b,c){var d=function(c){return b(d,function(b){c(a.bounce(b))})};return c(d)}),g("14",Error),f("12",["10","14"],function(a,b){var c=function(){},d=function(a,b){return function(){return a(b.apply(null,arguments))}},e=function(a){return function(){return a}};return{noop:c,compose:d,constant:e,identity:function(a){return a},tripleEquals:function(a,b){return a===b},curry:function(b){for(var c=new a(arguments.length-1),d=1;d<arguments.length;d++)c[d-1]=arguments[d];return function(){for(var d=new a(arguments.length),e=0;e<d.length;e++)d[e]=arguments[e];var f=c.concat(d);return b.apply(null,f)}},not:function(a){return function(){return!a.apply(null,arguments)}},die:function(a){return function(){throw new b(a)}},apply:function(a){return a()},call:function(a){a()},never:e(!1),always:e(!0)}}),f("r",["12"],function(a){return a}),g("13",Object),f("1i",["r","13"],function(a,b){var c=a.constant(!1),d=a.constant(!0),e=function(){return f},f=function(){var f=function(a){return a.isNone()},g=function(a){return a()},h=function(a){return a},i={fold:function(a,b){return a()},is:c,isSome:c,isNone:d,getOr:h,getOrThunk:g,getOrDie:function(a){throw a||"error: getOrDie called on none."},or:h,orThunk:g,map:e,ap:e,each:e,bind:e,flatten:e,exists:c,forall:d,filter:e,equals:f,equals_:f,toArray:function(){return[]},toString:a.constant("none()")};return b.freeze&&b.freeze(i),i}(),g=function(a){var b=function(){return a},h=function(){return k},i=function(b){return g(b(a))},j=function(b){return b(a)},k={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:d,isNone:c,getOr:b,getOrThunk:b,getOrDie:b,or:h,orThunk:h,map:i,ap:function(b){return b.fold(e,function(b){return g(b(a))})},each:i,bind:j,flatten:b,exists:j,forall:j,filter:function(b){return b(a)?k:f},equals:function(b){return b.is(a)},equals_:function(b,d){return b.fold(c,function(b){return d(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return k};return{some:g,none:e,from:function(a){return null===a||void 0===a?f:g(a)},equals:function(a,b){return a.equals(b)},equals_:function(a,b,c){return a.equals_(b,c)}}}),f("s",["r","1i"],function(a,b){var c=function(a){return e(function(b,c){return c(a)})},d=function(a){return e(function(b,c){return b(a)})},e=function(e){var f=function(b){return e(a.constant(!1),function(a){return a===b})},g=function(){return e(a.constant(!1),a.constant(!0))},h=a.not(g),i=function(b){return e(a.constant(b),a.identity)},j=function(b){return e(b,a.identity)},k=function(){return e(function(b){a.die(b)()},a.identity)},l=function(b){return e(a.constant(b),c)},m=function(a){return e(a,c)},n=function(a){return p(function(b){return c(a(b))})},o=n,p=function(a){return e(d,a)};return{is:f,isValue:g,isError:h,getOr:i,getOrThunk:j,getOrDie:k,or:l,orThunk:m,fold:e,map:n,each:o,bind:p,exists:function(b){return e(a.constant(!1),b)},forall:function(b){return e(a.constant(!0),b)},toOption:function(){return e(b.none,b.some)}}};return{value:c,error:d}}),f("e",["q","r","s"],function(a,b,c){return{pure:b.compose(a.pure,c.value),failed:b.compose(a.pure,c.error),foldSync:function(a,b,c){return a.map(function(a){return a.fold(b,c)})},bindSync:function(a,b){return a.map(function(a){return a.bind(b)})},bindAsync:function(a,b){return a.bind(function(a){return a.bind(b)})},mapSync:function(a,b){return a.map(function(a){return a.map(b)})},handle:function(a,b,c){return a.get(function(a){return a.fold(b,c)})}}}),f("1j",["10","11"],function(a,b){var c=function(c){if(null===c)return"null";var d=typeof c;return"object"===d&&a.prototype.isPrototypeOf(c)?"array":"object"===d&&b.prototype.isPrototypeOf(c)?"string":d},d=function(a){return function(b){return c(b)===a}};return{isString:d("string"),isObject:d("object"),isArray:d("array"),isNull:d("null"),isBoolean:d("boolean"),isUndefined:d("undefined"),isFunction:d("function"),isNumber:d("number")}}),f("1k",["13"],function(a){var b=function(){var b=a.keys,c=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};return void 0===b?c:b}(),c=function(a,c){for(var d=b(a),e=0,f=d.length;e<f;e++){var g=d[e];c(a[g],g,a)}},d=function(a,b){return e(a,function(a,c,d){return{k:c,v:b(a,c,d)}})},e=function(a,b){var d={};return c(a,function(c,e){var f=b(c,e,a);d[f.k]=f.v}),d},f=function(a,b){var d={},e={};return c(a,function(a,c){(b(a,c)?d:e)[c]=a}),{t:d,f:e}},g=function(a,b){var d=[];return c(a,function(a,c){d.push(b(a,c))}),d},h=function(a,c){for(var d=b(a),e=0,f=d.length;e<f;e++){var g=d[e],h=a[g];if(c(h,g,a))return h}},i=function(a){return g(a,function(a){return a})};return{bifilter:f,each:c,map:d,mapToArray:g,tupleMap:e,find:h,keys:b,values:i,size:function(a){return i(a).length}}}),g("1l",Date),f("w",["1l"],function(a){return{now:function(){return(new a).getTime()}}}),f("25",["20","1k","r","10"],function(a,b,c,d){return{product:function(e,f){return{nu:function(){for(var b=new d(arguments.length),f=0;f<b.length;f++)b[f]=arguments[f];if(e.length!==b.length)throw'Wrong number of arguments to struct. Expected "['+e.length+']", got '+b.length+" arguments";var g={};return a.each(e,function(a,d){g[a]=c.constant(b[d])}),g},eq:function(a,b){for(var d=0;d<e.length;d++){var g=f&&f[d]||c.tripleEquals,h=e[d];if(!g(a[h](),b[h]()))return!1}return!0},evaluate:function(a){return b.map(a,function(a){return a()})}}}}}),f("24",["25"],function(a){return function(){return a.product(arguments).nu}}),f("2j",["1j","20"],function(a,b){var c=function(a){return a.slice(0).sort()};return{sort:c,reqMessage:function(a,b){throw"All required keys ("+c(a).join(", ")+") were not specified. Specified keys were: "+c(b).join(", ")+"."},unsuppMessage:function(a){throw"Unsupported keys for object: "+c(a).join(", ")},validateStrArr:function(c,d){if(!a.isArray(d))throw"The "+c+" fields must be an array. Was: "+d+".";b.each(d,function(b){if(!a.isString(b))throw"The value "+b+" in the "+c+" fields was not a string."})},invalidTypeMessage:function(a,b){throw"All values need to be of type: "+b+". Keys ("+c(a).join(", ")+") were not."},checkDupes:function(a){var d=c(a),e=b.find(d,function(a,b){return b<d.length-1&&a===d[b+1]});if(void 0!==e&&null!==e)throw"The field: "+e+" occurs more than once in the combined fields: ["+d.join(", ")+"]."}}}),f("26",["20","1k","r","1i","2j","13"],function(a,b,c,d,e,f){return function(g,h){var i=g.concat(h);if(0===i.length)throw"You must specify at least one required or optional field.";return e.validateStrArr("required",g),e.validateStrArr("optional",h),e.checkDupes(i),function(j){var k=b.keys(j);a.forall(g,function(b){return a.contains(k,b)})||e.reqMessage(g,k);var l=a.filter(k,function(b){return!a.contains(i,b)});l.length>0&&e.unsuppMessage(l);var m={};return a.each(g,function(a){m[a]=c.constant(j[a])}),a.each(h,function(a){m[a]=c.constant(f.prototype.hasOwnProperty.call(j,a)?d.some(j[a]):d.none())}),m}}}),f("1m",["24","25","26"],function(a,b,c){return{immutable:a,immutable2:b,immutableBag:c}}),f("t",["1j","1k","w","1i","1m"],function(a,b,c,d,e){return function(f,g){var h=void 0!==g?g:36e5,i=e.immutable("result","timestamp"),j={},k=function(a,b,c){j[a]=i(b,c)},l=function(a,b){return d.from(j[b]).filter(function(b){return a-b.timestamp()<h}).map(function(a){return a.result()})},m=function(){return b.map(j,function(a){return{result:a.result(),timestamp:a.timestamp()}})};return a.isObject(f)&&function(a){var d=c.now();b.map(a,function(a,b){d-a.timestamp<h&&k(b,a.result,a.timestamp)})}(f),{set:k,get:l,dump:m}}}),f("g",["12","13"],function(a,b){var c=a.never,d=a.always,e=function(){return f},f=function(){var f=function(a){return a.isNone()},g=function(a){return a()},h=function(a){return a},i=function(){},j={fold:function(a,b){return a()},is:c,isSome:c,isNone:d,getOr:h,getOrThunk:g,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},or:h,orThunk:g,map:e,ap:e,each:i,bind:e,flatten:e,exists:c,forall:d,filter:e,equals:f,equals_:f,toArray:function(){return[]},toString:a.constant("none()")};return b.freeze&&b.freeze(j),j}(),g=function(a){var b=function(){return a},h=function(){return k},i=function(b){return g(b(a))},j=function(b){return b(a)},k={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:d,isNone:c,getOr:b,getOrThunk:b,getOrDie:b,or:h,orThunk:h,map:i,ap:function(b){return b.fold(e,function(b){return g(b(a))})},each:function(b){b(a)},bind:j,flatten:b,exists:j,forall:j,filter:function(b){return b(a)?k:f},equals:function(b){return b.is(a)},equals_:function(b,d){return b.fold(c,function(b){return d(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return k};return{some:g,none:e,from:function(a){return null===a||void 0===a?f:g(a)}}}),f("f",["g","10","14","11"],function(a,b,c,d){var e=function(){var a=b.prototype.indexOf,c=function(b,c){return a.call(b,c)},d=function(a,b){return u(a,b)};return void 0===a?d:c}(),f=function(b,c){var d=e(b,c);return-1===d?a.none():a.some(d)},g=function(a,b){return e(a,b)>-1},h=function(a,b){return t(a,b).isSome()},i=function(a,b){for(var c=[],d=0;d<a;d++)c.push(b(d));return c},j=function(a,b){for(var c=[],d=0;d<a.length;d+=b){var e=a.slice(d,d+b);c.push(e)}return c},k=function(a,c){for(var d=a.length,e=new b(d),f=0;f<d;f++){var g=a[f];e[f]=c(g,f,a)}return e},l=function(a,b){for(var c=0,d=a.length;c<d;c++){b(a[c],c,a)}},m=function(a,b){for(var c=a.length-1;c>=0;c--){b(a[c],c,a)}},n=function(a,b){for(var c=[],d=[],e=0,f=a.length;e<f;e++){var g=a[e];(b(g,e,a)?c:d).push(g)}return{pass:c,fail:d}},o=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},p=function(a,b){if(0===a.length)return[];for(var c=b(a[0]),d=[],e=[],f=0,g=a.length;f<g;f++){var h=a[f],i=b(h);i!==c&&(d.push(e),e=[]),c=i,e.push(h)}return 0!==e.length&&d.push(e),d},q=function(a,b,c){return m(a,function(a){c=b(c,a)}),c},r=function(a,b,c){return l(a,function(a){c=b(c,a)}),c},s=function(b,c){for(var d=0,e=b.length;d<e;d++){var f=b[d];if(c(f,d,b))return a.some(f)}return a.none()},t=function(b,c){for(var d=0,e=b.length;d<e;d++){if(c(b[d],d,b))return a.some(d)}return a.none()},u=function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},v=b.prototype.push,w=function(a){for(var d=[],e=0,f=a.length;e<f;++e){if(!b.prototype.isPrototypeOf(a[e]))throw new c("Arr.flatten item "+e+" was not an array, input: "+a);v.apply(d,a[e])}return d},x=function(a,b){var c=k(a,b);return w(c)},y=function(a,b){for(var c=0,d=a.length;c<d;++c){if(!0!==b(a[c],c,a))return!1}return!0},z=function(a,b){return a.length===b.length&&y(a,function(a,c){return a===b[c]})},A=b.prototype.slice;return{map:k,each:l,eachr:m,partition:n,filter:o,groupBy:p,indexOf:f,foldr:q,foldl:r,find:s,findIndex:t,flatten:w,bind:x,forall:y,exists:h,contains:g,equal:z,reverse:function(a){var b=A.call(a,0);return b.reverse(),b},chunk:j,difference:function(a,b){return o(a,function(a){return!g(b,a)})},mapToObject:function(a,b){for(var c={},e=0,f=a.length;e<f;e++){var g=a[e];c[d(g)]=b(g,e)}return c},pure:function(a){return[a]},sort:function(a,b){var c=A.call(a,0);return c.sort(b),c},range:i}}),f("d",["10","11"],function(a,b){var c=function(c){if(null===c)return"null";var d=typeof c;return"object"===d&&a.prototype.isPrototypeOf(c)?"array":"object"===d&&b.prototype.isPrototypeOf(c)?"string":d},d=function(a){return function(b){return c(b)===a}};return{isString:d("string"),isObject:d("object"),isArray:d("array"),isNull:d("null"),isBoolean:d("boolean"),isUndefined:d("undefined"),isFunction:d("function"),isNumber:d("number")}}),f("2q",["d","10","14"],function(a,b,c){var d=function(a,b){return b},e=function(b,c){return a.isObject(b)&&a.isObject(c)?g(b,c):c},f=function(a){return function(){for(var d=new b(arguments.length),e=0;e<d.length;e++)d[e]=arguments[e];if(0===d.length)throw new c("Can't merge zero objects");for(var f={},g=0;g<d.length;g++){var h=d[g];for(var i in h)h.hasOwnProperty(i)&&(f[i]=a(f[i],h[i]))}return f}},g=f(e),h=f(d);return{deepMerge:g,merge:h}}),f("2a",["12","g"],function(a,b){var c=function(d){var e=function(a){return d===a},f=function(a){return c(d)},g=function(a){return c(d)},h=function(a){return c(a(d))},i=function(a){a(d)},j=function(a){return a(d)},k=function(a,b){return b(d)},l=function(a){return a(d)},m=function(a){return a(d)},n=function(){return b.some(d)};return{is:e,isValue:a.constant(!0),isError:a.constant(!1),getOr:a.constant(d),getOrThunk:a.constant(d),getOrDie:a.constant(d),or:f,orThunk:g,fold:k,map:h,each:i,bind:j,exists:l,forall:m,toOption:n}},d=function(c){var e=function(a){return a()},f=function(){return a.die(c)()},g=function(a){return a},h=function(a){return a()},i=function(a){return d(c)},j=function(a){return d(c)},k=function(a,b){return a(c)};return{is:a.constant(!1),isValue:a.constant(!1),isError:a.constant(!0),getOr:a.identity,getOrThunk:e,getOrDie:f,or:g,orThunk:h,fold:k,map:i,each:a.noop,bind:j,exists:a.constant(!1),forall:a.constant(!0),toOption:b.none}};return{value:c,error:d}}),f("1v",["g","13"],function(a,b){var c=function(){var a=b.keys,c=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};return void 0===a?c:a}(),d=function(a,b){for(var d=c(a),e=0,f=d.length;e<f;e++){var g=d[e];b(a[g],g,a)}},e=function(a,b){return f(a,function(a,c,d){return{k:c,v:b(a,c,d)}})},f=function(a,b){var c={};return d(a,function(d,e){var f=b(d,e,a);c[f.k]=f.v}),c},g=function(a,b){var c={},e={};return d(a,function(a,d){(b(a,d)?c:e)[d]=a}),{t:c,f:e}},h=function(a,b){var c=[];return d(a,function(a,d){c.push(b(a,d))}),c},i=function(b,d){for(var e=c(b),f=0,g=e.length;f<g;f++){var h=e[f],i=b[h];if(d(i,h,b))return a.some(i)}return a.none()},j=function(a){return h(a,function(a){return a})};return{bifilter:g,each:d,map:e,mapToArray:h,tupleMap:f,find:i,keys:c,values:j,size:function(a){return j(a).length}}}),f("1w",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),f("15",["f","1v","d","10","14","1w"],function(a,b,c,d,e,f){return{generate:function(g){if(!c.isArray(g))throw new e("cases must be an array");if(0===g.length)throw new e("there must be at least one case");var h=[],i={};return a.each(g,function(j,k){var l=b.keys(j);if(1!==l.length)throw new e("one and only one name per case");var m=l[0],n=j[m];if(void 0!==i[m])throw new e("duplicate key detected:"+m);if("cata"===m)throw new e("cannot have a case named cata (sorry)");if(!c.isArray(n))throw new e("case arguments must be an array");h.push(m),i[m]=function(){var c=arguments.length;if(c!==n.length)throw new e("Wrong number of arguments to case "+m+". Expected "+n.length+" ("+n+"), got "+c);for(var i=new d(c),j=0;j<i.length;j++)i[j]=arguments[j];var l=function(c){var d=b.keys(c);if(h.length!==d.length)throw new e("Wrong number of arguments to match. Expected: "+h.join(",")+"\nActual: "+d.join(","));if(!a.forall(h,function(b){return a.contains(d,b)}))throw new e("Not all branches were specified when using match. Specified: "+d.join(", ")+"\nRequired: "+h.join(", "));return c[m].apply(null,i)};return{fold:function(){if(arguments.length!==g.length)throw new e("Wrong number of arguments to fold. Expected "+g.length+", got "+arguments.length);return arguments[k].apply(null,i)},match:l,log:function(a){f.log(a,{constructors:h,constructor:m,params:i})}}}}),i}}}),f("36",["15","f"],function(a,b){var c=a.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);return{partition:function(a){var c=[],d=[];return b.each(a,function(a){a.fold(function(a){c.push(a)},function(a){d.push(a)})}),{errors:c,values:d}},compare:function(a,b){return a.fold(function(a){return b.fold(function(b){return c.bothErrors(a,b)},function(b){return c.firstError(a,b)})},function(a){return b.fold(function(b){return c.secondError(a,b)},function(b){return c.bothValues(a,b)})})}}}),f("2k",["f","12","2q","2a","36"],function(a,b,c,d,e){var f=function(a,b){return d.value(c.deepMerge.apply(void 0,[b].concat(a)))},g=function(c){return b.compose(d.error,a.flatten)(c)};return{consolidateObj:function(a,b){var c=e.partition(a);return c.errors.length>0?g(c.errors):f(c.values,b)},consolidateArr:function(a){var b=e.partition(a);return b.errors.length>0?g(b.errors):d.value(b.values)}}}),f("2l",["f","1v"],function(a,b){var c=function(b,c){var d={};return a.each(c,function(a){void 0!==b[a]&&b.hasOwnProperty(a)&&(d[a]=b[a])}),d},d=function(b,c){var d={};return a.each(b,function(a){var b=a[c];d[b]=a}),d};return{narrow:c,exclude:function(c,d){var e={};return b.each(c,function(b,c){a.contains(d,c)||(e[c]=b)}),e},indexOnKey:d}}),f("2m",["g"],function(a){var b=function(b){return function(c){return c.hasOwnProperty(b)?a.from(c[b]):a.none()}};return{readOpt:b,readOr:function(a,c){return function(d){return b(a)(d).getOr(c)}},readOptFrom:function(a,c){return b(c)(a)},hasKey:function(a,b){return a.hasOwnProperty(b)&&void 0!==a[b]&&null!==a[b]}}}),f("2n",["f"],function(a){return{wrap:function(a,b){var c={};return c[a]=b,c},wrapAll:function(b){var c={};return a.each(b,function(a){c[a.key]=a.value}),c}}}),f("2e",["2k","2l","2m","2n"],function(a,b,c,d){var e=function(a,c){return b.narrow(a,c)},f=function(a,c){return b.exclude(a,c)},g=function(a){return c.readOpt(a)},h=function(a,b){return c.readOr(a,b)},i=function(a,b){return c.readOptFrom(a,b)},j=function(a,b){return d.wrap(a,b)},k=function(a){return d.wrapAll(a)},l=function(a,c){return b.indexOnKey(a,c)},m=function(b,c){return a.consolidateObj(b,c)};return{narrow:e,exclude:f,readOpt:g,readOr:h,readOptFrom:i,wrap:j,wrapAll:k,indexOnKey:l,hasKey:function(a,b){return c.hasKey(a,b)},consolidate:m}}),f("3e",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),f("3c",["3e"],function(a){var b=function(b,c){for(var d=void 0!==c?c:a,e=0;e<b.length&&void 0!==d&&null!==d;++e)d=d[b[e]];return d},c=function(a,c){var d=a.split(".");return b(d,c)},d=function(a,b){return void 0!==a[b]&&null!==a[b]||(a[b]={}),a[b]},e=function(b,c){for(var e=void 0!==c?c:a,f=0;f<b.length;++f)e=d(e,b[f]);return e};return{path:b,resolve:c,forge:e,namespace:function(a,b){var c=a.split(".");return e(c,b)}}}),f("37",["3c"],function(a){var b=function(b,c){return a.resolve(b,c)};return{getOrDie:function(a,c){var d=b(a,c);if(void 0===d)throw a+" not available on this browser";return d}}}),f("2r",["37"],function(a){var b=function(){return a.getOrDie("JSON")};return{parse:function(a){return b().parse(a)},stringify:function(a,c,d){return b().stringify(a,c,d)}}}),f("29",["f","1v","d","2r"],function(a,b,c,d){return{formatObj:function(a){return c.isObject(a)&&b.keys(a).length>100?" removed due to size":d.stringify(a,null,2)},formatErrors:function(b){var c=b.length>10?b.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):b;return a.map(c,function(a){return"Failed path: ("+a.path.join(" > ")+")\n"+a.getErrorInfo()})}}}),f("2o",["29","2a"],function(a,b){var c=function(a,c){return b.error([{path:a,getErrorInfo:c}])},d=function(b,d,e){return c(b,function(){return'Could not find valid *strict* value for "'+d+'" in '+a.formatObj(e)})},e=function(a,b){return c(a,function(){return'Choice schema did not contain choice key: "'+b+'"'})},f=function(b,d,e){return c(b,function(){return'The chosen schema: "'+e+'" did not exist in branches: '+a.formatObj(d)})},g=function(a,b){return c(a,function(){return"There are unsupported fields: ["+b.join(", ")+"] specified"})},h=function(a,b){return c(a,function(){return b})},i=function(a){return"Failed path: ("+a.path.join(" > ")+")\n"+a.getErrorInfo()};return{missingStrict:d,missingKey:e,missingBranch:f,unsupportedFields:g,custom:h,toString:i}}),f("1s",["15","12"],function(a,b){var c=a.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),d=function(a){return c.defaultedThunk(b.constant(a))},e=function(a){return c.asDefaultedOptionThunk(b.constant(a))},f=function(a){return c.mergeWithThunk(b.constant(a))};return{strict:c.strict,asOption:c.asOption,defaulted:d,defaultedThunk:c.defaultedThunk,asDefaultedOption:e,asDefaultedOptionThunk:c.asDefaultedOptionThunk,mergeWith:f,mergeWithThunk:c.mergeWithThunk}}),f("2p",["15"],function(a){return{typeAdt:a.generate([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]}]),fieldAdt:a.generate([{field:["name","presence","type"]},{state:["name"]}])}}),f("28",["1s","2e","2k","2m","2n","2o","2p","15","f","12","2q","1v","g","2a","d"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=h.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),q=function(a,b){return p.state(a,j.constant(b))},r=function(a){return p.state(a,j.identity)},s=function(a,b,c){return d.readOptFrom(b,c).fold(function(){return f.missingStrict(a,c,b)},n.value)},t=function(a,b,c){var e=d.readOptFrom(a,b).fold(function(){return c(a)},j.identity);return n.value(e)},u=function(a,b){return n.value(d.readOptFrom(a,b))},v=function(a,b,c){var e=d.readOptFrom(a,b).map(function(b){return!0===b?c(a):b});return n.value(e)},w=function(a,b,c,d){return c.fold(function(c,f,g,h){var i=function(b){return h.extract(a.concat([c]),d,b).map(function(a){return e.wrap(f,d(a))})},l=function(b){return b.fold(function(){var a=e.wrap(f,d(m.none()));return n.value(a)},function(b){return h.extract(a.concat([c]),d,b).map(function(a){return e.wrap(f,d(m.some(a)))})})};return function(){return g.fold(function(){return s(a,b,c).bind(i)},function(a){return t(b,c,a).bind(i)},function(){return u(b,c).bind(l)},function(a){return v(b,c,a).bind(l)},function(a){var d=a(b);return t(b,c,j.constant({})).map(function(a){return k.deepMerge(d,a)}).bind(i)})}()},function(a,c){var f=c(b);return n.value(e.wrap(a,d(f)))})},x=function(a,b,d,e){var f=i.map(d,function(c){return w(a,b,c,e)});return c.consolidateObj(f,{})},y=function(a){var b=function(b,c,d){return a(d).fold(function(a){return f.custom(b,a)},n.value)},c=function(){return"val"};return{extract:b,toString:c,toDsl:function(){return g.typeAdt.itemOf(a)}}},z=function(a){var c=A(a),d=i.foldr(a,function(a,c){return c.fold(function(c){return k.deepMerge(a,b.wrap(c,!0))},j.constant(a))},{});return{extract:function(a,e,g){var h=o.isBoolean(g)?[]:i.filter(l.keys(g),function(a){return void 0!==g[a]}),j=i.filter(h,function(a){return!b.hasKey(d,a)});return 0===j.length?c.extract(a,e,g):f.unsupportedFields(a,j)},toString:c.toString,toDsl:c.toDsl}},A=function(a){var b=function(b,c,d){return x(b,d,a,c)},c=function(){return"obj{\n"+i.map(a,function(a){return a.fold(function(a,b,c,d){return a+" -> "+d.toString()},function(a,b){return"state("+a+")"})}).join("\n")+"}"};return{extract:b,toString:c,toDsl:function(){return g.typeAdt.objOf(i.map(a,function(a){return a.fold(function(a,b,c,d){return g.fieldAdt.field(a,c,d)},function(a,b){return g.fieldAdt.state(a)})}))}}},B=function(a){var b=function(b,d,e){var f=i.map(e,function(c,e){return a.extract(b.concat(["["+e+"]"]),d,c)});return c.consolidateArr(f)},d=function(){return"array("+a.toString()+")"};return{extract:b,toString:d,toDsl:function(){return g.typeAdt.arrOf(a)}}},C=function(b,c){var d=function(a,c){return B(y(b)).extract(a,j.identity,c)},e=function(b,e,f){var g=l.keys(f);return d(b,g).bind(function(d){var g=i.map(d,function(b){return p.field(b,b,a.strict(),c)});return A(g).extract(b,e,f)})},f=function(){return"setOf("+c.toString()+")"};return{extract:e,toString:f,toDsl:function(){return g.typeAdt.setOf(b,c)}}},D=y(n.value),E=j.compose(B,A);return{anyValue:j.constant(D),value:y,obj:A,objOnly:z,arr:B,setOf:C,arrOfObj:E,state:p.state,field:p.field,output:q,snapshot:r}}),f("27",["2e","2o","28","2p","1v"],function(a,b,c,d,e){var f=function(d,e,f,g,h){return a.readOptFrom(g,h).fold(function(){return b.missingBranch(d,g,h)},function(a){return c.obj(a).extract(d.concat(["branch: "+h]),e,f)})};return{choose:function(c,g){var h=function(d,e,h){return a.readOptFrom(h,c).fold(function(){return b.missingKey(d,c)},function(a){return f(d,e,h,g,a)})},i=function(){return"chooseOn("+c+"). Possible values: "+e.keys(g)};return{extract:h,toString:i,toDsl:function(){return d.typeAdt.choiceOf(c,g)}}}}}),f("1n",["27","28","29","12","2a","14"],function(a,b,c,d,e,f){var g=b.value(e.value),h=function(a){return b.arrOfObj(a)},i=function(){return b.arr(g)},j=b.arr,k=b.obj,l=b.objOnly,m=b.setOf,n=function(a){return b.value(a)},o=function(a,b,c,d){return b.extract([a],c,d).fold(function(a){return e.error({input:d,errors:a})},e.value)},p=function(a,b,c){return o(a,b,d.constant,c)},q=function(a,b,c){return o(a,b,d.identity,c)},r=function(a){return a.fold(function(a){throw new f(u(a))},d.identity)},s=function(a,b,c){return r(q(a,b,c))},t=function(a,b,c){return r(p(a,b,c))},u=function(a){return"Errors: \n"+c.formatErrors(a.errors)+"\n\nInput object: "+c.formatObj(a.input)},v=function(b,c){return a.choose(b,c)};return{anyValue:d.constant(g),arrOfObj:h,arrOf:j,arrOfVal:i,valueOf:n,setOf:m,objOf:k,objOfOnly:l,asStruct:p,asRaw:q,asStructOrDie:t,asRawOrDie:s,getOrDie:r,formatError:u,choose:v}}),f("1q",["1j","10"],function(a,b){var c=function(a,b){return b},d=function(b,c){return a.isObject(b)&&a.isObject(c)?f(b,c):c},e=function(a){return function(){for(var c=new b(arguments.length),d=0;d<c.length;d++)c[d]=arguments[d];if(0===c.length)throw"Can't merge zero objects";for(var e={},f=0;f<c.length;f++){var g=c[f];for(var h in g)g.hasOwnProperty(h)&&(e[h]=a(e[h],g[h]))}return e}},f=e(d),g=e(c);return{deepMerge:f,merge:g}}),f("3d",[],function(){return Function("return this;")()}),f("39",["3d"],function(a){var b=function(b,c){for(var d=c||a,e=0;e<b.length&&void 0!==d&&null!==d;++e)d=d[b[e]];return d};return{path:b,resolve:function(a,c){var d=a.split(".");return b(d,c)}}}),f("2y",["39"],function(a){var b=function(b,c){return a.resolve(b,c)};return{getOrDie:function(a,c){var d=b(a,c);if(void 0===d)throw a+" not available on this browser";return d}}}),f("38",["2y"],function(a){return function(){return new(a.getOrDie("FileReader"))}}),f("2s",["q","38"],function(a,b){return function(c){return a.nu(function(a){var d=b();d.onload=function(b){var c=b.target;a(c.result)},d.readAsText(c)})}}),f("2t",["2y"],function(a){return function(){return new(a.getOrDie("XMLHttpRequest"))}}),g("2u",Math),g("2v",isFinite),g("2w",isNaN),g("2x",parseFloat),f("2d",["2u","2v","2w","2x"],function(a,b,c,d){var e=function(a){return function(b,c){var d=typeof c;if(d!==a)throw b+" was not a "+a+". Was: "+c+" ("+d+")"}},f=e("string"),g=function(a,b){if(f(a,b),1!==b.length)throw a+" was not a single char. Was: "+b},h=e("number"),i=function(b,c){if(h(b,c),c!==a.abs(c))throw b+" was not an integer. Was: "+c},j=function(a){return!c(d(a))&&b(a)};return{vString:f,vChar:g,vInt:i,vNat:function(a,b){if(i(a,b),b<0)throw a+" was not a natural number. Was: "+b},pNum:j}}),f("1p",["2d"],function(a){var b=function(a,b,c){return""===b||!(a.length<b.length)&&a.substr(c,c+b.length)===b},c=function(a,b){var c=function(a){var b=typeof a;return"string"===b||"number"===b};return a.replace(/\${([^{}]*)}/g,function(a,d){var e=b[d];return c(e)?e:a})},d=function(a){var b=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c};return function(){var c=b(arguments,function(a){return"string"==typeof a?a.toLowerCase():a});return a.apply(this,c)}},e=function(a,c){return b(a,c,0)},f=d(e),g=function(a,c){return b(a,c,a.length-c.length)},h=d(g),i=function(a,b){return a.substr(0,b)},j=function(a,b){return a.substr(a.length-b,a.length)},k=function(a,b){return function(c,d){return a(c,d)?b(c,c.length-d.length):c}},l=k(e,j),m=k(g,i),n=function(a,b){return a+b},o=function(a,b){return b+a},p=function(a,b){return function(c,d){return a(c,d)?c:b(c,d)}},q=p(e,o),r=p(g,n),s=function(a){return a.replace(/^\s+|\s+$/g,"")},t=function(a){return a.replace(/^\s+/g,"")},u=function(a){return a.replace(/\s+$/g,"")},v=function(a,b){return-1!=a.indexOf(b)},w=d(v),x=function(a){return a.replace(/\"/gm,"&quot;")},y=function(a,b){return a===b},z=d(y),A=function(a){if(""===a)throw"head on empty string"
;return a.substr(0,1)},B=function(a){if(""===a)throw"toe on empty string";return a.substr(a.length-1,a.length)},C=function(a){if(""===a)throw"tail on empty string";return a.substr(1,a.length-1)},D=function(a){if(""===a)throw"torso on empty string";return a.substr(0,a.length-1)},E=function(a){return""===a?a:A(a).toUpperCase()+C(a)},F=function(b,c){a.vString("str",b),a.vNat("num",c);for(var d="",e=0;e<c;e++)d+=b;return d},G=function(b){return function(c,d,e){a.vString("str",c),a.vChar("c",d),a.vNat("width",e);var f=c.length;return f>=e?c:b(c,F(d,e-f))}},H=G(function(a,b){return b+a}),I=G(function(a,b){return a+b});return{supplant:c,startsWith:e,startsWithIgnoringCase:f,endsWith:g,endsWithIgnoringCase:h,first:i,last:j,removeLeading:l,removeTrailing:m,ensureLeading:q,ensureTrailing:r,trim:s,lTrim:t,rTrim:u,contains:v,containsIgnoringCase:w,htmlEncodeDoubleQuotes:x,equals:y,equalsIgnoringCase:z,head:A,repead:F,padLeft:H,padRight:I,toe:B,tail:C,torso:D,capitalize:E}}),f("2b",["1j","1k","1q","2s","q","2t","1i","s","1p","1w"],function(a,b,c,d,e,f,g,h,i,j){var k={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"};return{ajax:function(l,m,n,o){var p={url:l,contentType:"application/json",processData:!1,type:"GET"},q=c.merge(p,o),r=f();r.open(q.type.toUpperCase(),q.url,!0),"blob"===q.responseType&&(r.responseType=q.responseType),a.isString(q.contentType)&&r.setRequestHeader("Content-Type",q.contentType);var s=q.dataType,t=a.isString(s)&&"*"!==s?k[s]+", "+k["*"]+"; q=0.01":k["*"];r.setRequestHeader("Accept",t),void 0!==q.xhrFields&&!0===q.xhrFields.withCredentials&&(r.withCredentials=!0),a.isObject(q.headers)&&b.each(q.headers,function(b,c){a.isString(c)||a.isString(b)?r.setRequestHeader(c,b):j.error("Request header data was not a string: ",c," -> ",b)});var u=function(a,b,c){m(a)},v=function(){return"blob"===q.responseType?g.from(r.response).map(d).getOr(e.pure("no response content")):e.pure(r.responseText)},w=function(){v().get(function(a){0===r.status?n("Unknown HTTP error (possible cross-domain request)",r.status,a):n('Could not load url "'+l+'": '+r.statusText,r.status,a)})},x=function(){try{return h.value(JSON.parse(r.response))}catch(a){return h.error({status:r.status,statusText:"Response was not JSON",responseText:r.responseText})}},y=function(){("json"===s?x():h.value(r.response)).fold(w,function(a){u(a,r.statusText)})},z=function(){0===r.status?i.startsWith(q.url,"file:")?y():w():r.status<100||r.status>=400?w():y()};r.onerror=w,r.onload=z,void 0===q.data?r.send():r.send(q.data)}}}),f("2c",["2y"],function(a){var b=function(){return a.getOrDie("JSON")};return{parse:function(a){return b().parse(a)},stringify:function(a,c,d){return b().stringify(a,c,d)}}}),f("1o",["1q","2b","2c"],function(a,b,c){var d=function(a){try{return void 0===a||""===a?a:c.parse(a)}catch(b){return{contents:a}}},e=function(a){return function(b,c,e){a(b,c,d(e))}},f=function(a,b,c,d){h(a,"GET",b,c,d)},g=function(b,d,e,f,g){h(b,"POST",e,f,a.merge({data:c.stringify(d)},g))},h=function(c,d,f,g,h){b.ajax(c,f,e(g),a.merge({dataType:"json",type:d},h))};return{get:f,post:g,ajax:h}}),g("z",encodeURIComponent),f("u",["1n","1j","1k","1o","q","s","1p","z","11"],function(a,b,c,d,e,f,g,h,i){var j=function(a,b){var c=-1===a.indexOf("?")?"?":"&";return b?a+c+"apiKey="+h(b):a},k=function(a){return a.hasOwnProperty("tiny-api-key")?a["tiny-api-key"]:a.hasOwnProperty("tinymce-api-key")?a["tinymce-api-key"]:a["textbox-api-key"]};return{get:function(h,l,m,n){var o=k(n),p={headers:n};return{execute:function(k){var n=a.asRawOrDie(h+".ajax.service.get",l,k),q=c.map(n,function(a){return b.isBoolean(a)?i(a):a}),r=j(g.supplant(m,q),o);return e.nu(function(a){d.get(r,function(b){a(f.value(b))},function(c,d,e){var g=b.isObject(e)?e:c;a(f.error(g))},p)})}}},post:function(c,g,h,i){var l=k(i),m={headers:i};return{execute:function(i){var k=a.asRawOrDie(c+".ajax.service.post",g,i);return e.nu(function(a){d.post(j(h,l),k,function(b){a(f.value(b))},function(c,d,e){var g=b.isObject(e)?e:c;a(f.error(g))},m)})}}}}}),f("1r",["2e","20","1q"],function(a,b,c){return{partition:function(d,e,f,g,h){return!0===h?{known:{},unknown:f}:b.foldl(f,function(b,f){var h=g(f);return d(e,h).fold(function(){return{known:b.known,unknown:b.unknown.concat([f])}},function(d){var e=a.wrap(h,d);return{known:c.merge(b.known,e),unknown:b.unknown}})},{known:{},unknown:[]})}}}),f("v",["1k","1q","e","1r","1i"],function(a,b,c,d,e){var f=function(d,e,f,g,h,i,j){var k=d(g,j);return c.mapSync(k,function(c){var d=h(c);return a.each(d,function(a,b){e.set(b,a,i)}),b.deepMerge(f,d)})};return{single:function(a,b,d,f,g){return(!0===g?e.none():b.get(f,d)).fold(function(){return a(d,g).map(function(a){return a.map(function(a){return b.set(d,a,f),a})})},function(a){return c.pure(a)})},multiple:function(a,b,e,g,h,i,j){var k=d.partition(b.get,i,e,h,j);return 0===k.unknown.length?c.pure(k.known):f(a,b,k.known,k.unknown,g,i,j)}}}),f("1t",["1s","28","2a","d"],function(a,b,c,d){var e=function(c){return b.field(c,c,a.strict(),b.anyValue())},f=function(c,d){return b.field(c,c,a.strict(),d)},g=function(e){return b.field(e,e,a.strict(),b.value(function(a){return d.isFunction(a)?c.value(a):c.error("Not a function")}))},h=function(d,e){return b.field(d,d,a.asOption(),b.value(function(a){return c.error("The field: "+d+" is forbidden. "+e)}))},i=function(a,b){return f(a,b)};return{strict:e,strictOf:f,strictObjOf:function(c,d){return b.field(c,c,a.strict(),b.obj(d))},strictArrayOf:i,strictArrayOfObj:function(c,d){return b.field(c,c,a.strict(),b.arrOfObj(d))},strictFunction:g,forbid:h,option:function(c){return b.field(c,c,a.asOption(),b.anyValue())},optionOf:function(c,d){return b.field(c,c,a.asOption(),d)},optionObjOf:function(c,d){return b.field(c,c,a.asOption(),b.obj(d))},optionObjOfOnly:function(c,d){return b.field(c,c,a.asOption(),b.objOnly(d))},defaulted:function(c,d){return b.field(c,c,a.defaulted(d),b.anyValue())},defaultedOf:function(c,d,e){return b.field(c,c,a.defaulted(d),e)},defaultedObjOf:function(c,d,e){return b.field(c,c,a.defaulted(d),b.obj(e))},field:function(a,c,d,e){return b.field(a,c,d,e)},state:function(a,c){return b.state(a,c)}}}),f("1u",["20","r","s"],function(a,b,c){var d=function(a){return"["+a.join(", ")+"]"},e=["iframely","oembed","fallback"],f=function(b,f,g){return a.exists(f,function(c){return a.contains(b,c)})?c.error("Embed response source: "+d(b)+" contains more than one of "+d(e)):c.value(g)},g=function(b){return a.contains(b,"iframely")?f(b,["oembed","fallback"],"iframely"):a.contains(b,"oembed")?f(b,["iframely","fallback"],"oembed"):a.contains(b,"fallback")?f(b,["iframely","oembed"],"fallback"):c.error("Embed response source: "+d(b)+" did not contain any of: "+d(e))};return{iframely:b.constant("iframely"),oembed:b.constant("oembed"),fallback:b.constant("fallback"),identify:g}}),f("y",["1s","1t","1n","1j","1u","r","s"],function(a,b,c,d,e,f,g){var h=c.objOf([b.strict("url"),b.strict("maxWidth"),b.defaulted("fresh",!1)]),i=c.objOf([b.strict("status_code"),b.strict("sub_code"),b.strict("msg")]),j=c.objOf([b.strict("html"),b.strictObjOf("rels",[b.field("source","source",a.strict(),c.valueOf(function(a){return d.isArray(a)?e.identify(a):g.error("Sources was not an array: "+a)}))])]);return{requestOne:f.constant(h),responseFailed:f.constant(i),responseSucceeded:f.constant(j)}}),f("x",["1n","y","r","s"],function(a,b,c,d){return{failed:function(e){return a.asStruct("EmbedResponse.failure",b.responseFailed(),e).fold(function(b){return d.error({code:c.constant(600),subcode:c.constant(0),msg:c.constant(a.formatError(b))})},function(a){return d.error({code:a.status_code,subcode:a.sub_code,msg:a.msg})})},success:function(e){return a.asStruct("EmbedResponse.success",b.responseSucceeded(),e).fold(function(b){return d.error({code:c.constant(601),subcode:c.constant(0),msg:c.constant(a.formatError(b))})},function(a){return d.value({recommended:c.constant({html:a.html,source:a.rels().source})})})}}}),f("c",["e","t","u","v","w","x","y","z"],function(a,b,c,d,e,f,g,h){return function(i,j,k){var l=b(k),m=c.get("ephox.media.service.one",g.requestOne(),i+"/1/embed?url=${url}&maxWidth=${maxWidth}",j);return{checkOne:function(b,c,g){var i=function(a,d){return m.execute({url:h(b),maxWidth:c,fresh:d})},j=e.now(),k=d.single(i,l,c+"&"+b,j,void 0!==g&&g);return a.foldSync(k,f.failed,f.success)},dumpCache:l.dump}}}),f("6",["d"],function(a){var b=function(b,c){return a.isString(b.mediaembed_content_css)?b.mediaembed_content_css:c};return{hasServiceUrl:function(b){return a.isString(b.mediaembed_service_url)},getMaxWidth:function(b){return a.isNumber(b.mediaembed_max_width)?b.mediaembed_max_width:650},getApiKey:function(a){var b=a.api_key;return b||a.mediaembed_api_key},getCss:b}}),f("1",["c","6","e","f"],function(a,b,c,d){var e=function(b,c){return a(b,c?{"tinymce-api-key":c}:{})};return function(a){var f=e(a.mediaembed_service_url,b.getApiKey(a)),g=function(a,b,c){return f.checkOne(a,b,c)},h=function(){f.dumpCache()},i={};return{getOne:g,dumpCache:h,getAndHandleResponse:function(e,f,h){void 0!==i[e]?i[e]=i[e].concat(f):(i[e]=[f],c.handle(g(e.trim(),b.getMaxWidth(a)),function(a){h(a),delete i[e]},function(a){d.each(i[e],function(b){b(a)}),delete i[e]}))}}}}),f("2",["f"],function(a){var b=[{code:404,message:"The specified url was not found."},{code:600,message:"The specified service did not respond correctly."},{code:601,message:"The specified service did not respond correctly."}],c=function(c,d){return"Media embed: "+a.find(b,function(a){return a.code===d}).fold(function(){return"Server didn't produce a valid result. ("+d+")"},function(a){return a.message})};return function(a){var b,d=function(d){var e=d.msg(),f=d.code();e!==b&&a.windowManager.alert(c(0,f),function(){b=""}),b=e},e=function(b){a.notificationManager.open({text:b,type:"error"})};return{formatMessage:c,showNotificationError:function(a){e(c(a.msg(),a.code()))},showDialogError:d,showNotificationMsg:e}}}),g("h",tinymce.util.Promise),f("i",["g"],function(a){return{safeProp:function(b){return function(c){return c?a.from(c[b]):a.none()}},or:function(a,b){return function(c){return a(c)||b(c)}}}}),f("16",["g"],function(a){return{cat:function(a){for(var b=[],c=function(a){b.push(a)},d=0;d<a.length;d++)a[d].each(c);return b},findMap:function(b,c){for(var d=0;d<b.length;d++){var e=c(b[d],d);if(e.isSome())return e}return a.none()},liftN:function(b,c){for(var d=[],e=0;e<b.length;e++){var f=b[e];if(!f.isSome())return a.none();d.push(f.getOrDie())}return a.some(c.apply(null,d))}}}),f("1x",["f","12","10","14"],function(a,b,c,d){return function(){var e=arguments;return function(){for(var f=new c(arguments.length),g=0;g<f.length;g++)f[g]=arguments[g];if(e.length!==f.length)throw new d('Wrong number of arguments to struct. Expected "['+e.length+']", got '+f.length+" arguments");var h={};return a.each(e,function(a,c){h[a]=b.constant(f[c])}),h}}}),f("2f",["f","d","14"],function(a,b,c){var d=function(a){return a.slice(0).sort()};return{sort:d,reqMessage:function(a,b){throw new c("All required keys ("+d(a).join(", ")+") were not specified. Specified keys were: "+d(b).join(", ")+".")},unsuppMessage:function(a){throw new c("Unsupported keys for object: "+d(a).join(", "))},validateStrArr:function(d,e){if(!b.isArray(e))throw new c("The "+d+" fields must be an array. Was: "+e+".");a.each(e,function(a){if(!b.isString(a))throw new c("The value "+a+" in the "+d+" fields was not a string.")})},invalidTypeMessage:function(a,b){throw new c("All values need to be of type: "+b+". Keys ("+d(a).join(", ")+") were not.")},checkDupes:function(b){var e=d(b);a.find(e,function(a,b){return b<e.length-1&&a===e[b+1]}).each(function(a){throw new c("The field: "+a+" occurs more than once in the combined fields: ["+e.join(", ")+"].")})}}}),f("1y",["f","12","1v","g","2f","14","13"],function(a,b,c,d,e,f,g){return function(h,i){var j=h.concat(i);if(0===j.length)throw new f("You must specify at least one required or optional field.");return e.validateStrArr("required",h),e.validateStrArr("optional",i),e.checkDupes(j),function(f){var k=c.keys(f);a.forall(h,function(b){return a.contains(k,b)})||e.reqMessage(h,k);var l=a.filter(k,function(b){return!a.contains(j,b)});l.length>0&&e.unsuppMessage(l);var m={};return a.each(h,function(a){m[a]=b.constant(f[a])}),a.each(i,function(a){m[a]=b.constant(g.prototype.hasOwnProperty.call(f,a)?d.some(f[a]):d.none())}),m}}}),f("17",["1x","1y"],function(a,b){return{immutable:a,immutableBag:b}}),g("1b",document),f("18",["r","14","1w","1b"],function(a,b,c,d){var e=function(a,b){var e=b||d,f=e.createElement("div");if(f.innerHTML=a,!f.hasChildNodes()||f.childNodes.length>1)throw c.error("HTML does not have a single root node",a),"HTML must have a single root node";return h(f.childNodes[0])},f=function(a,b){var c=b||d,e=c.createElement(a);return h(e)},g=function(a,b){var c=b||d,e=c.createTextNode(a);return h(e)},h=function(c){if(null===c||void 0===c)throw new b("Node cannot be null or undefined");return{dom:a.constant(c)}};return{fromHtml:e,fromTag:f,fromText:g,fromDom:h}}),f("1z",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),f("19",["1z"],function(a){var b=function(a){return a.dom().nodeName.toLowerCase()},c=function(a){return a.dom().nodeType},d=function(a){return a.dom().nodeValue},e=function(a){return function(b){return c(b)===a}},f=function(d){return c(d)===a.COMMENT||"#comment"===b(d)},g=e(a.ELEMENT),h=e(a.TEXT),i=e(a.DOCUMENT);return{name:b,type:c,value:d,isElement:g,isText:h,isDocument:i,isComment:f}}),f("21",[],function(){return{toArray:function(a,b){var c=[],d=function(a){return c.push(a),b(a)},e=b(a);do{e=e.bind(d)}while(e.isSome());return c}}}),f("2z",["r"],function(a){return function(b,c,d){var e=b.isiOS()&&!0===/ipad/i.test(d),f=b.isiOS()&&!e,g=b.isAndroid()&&3===b.version.major,h=b.isAndroid()&&4===b.version.major,i=e||g||h&&!0===/mobile/i.test(d),j=b.isiOS()||b.isAndroid(),k=j&&!i,l=c.isSafari()&&b.isiOS()&&!1===/safari/i.test(d);return{isiPad:a.constant(e),isiPhone:a.constant(f),isTablet:a.constant(i),isPhone:a.constant(k),isTouch:a.constant(j),isAndroid:b.isAndroid,isiOS:b.isiOS,isWebView:a.constant(l)}}}),f("30",[],function(){return{create:function(a,b,c){return{browser:{current:a,version:b},os:{current:c}}}}}),f("3a",[],function(){var a=function(a){return function(){return a}};return{getter:a,attachGetters:function(b,c,d){for(var e=0;e<d.length;e++)b["is"+d[e].name]=a(d[e].name===c)}}}),f("31",["3a"],function(a){return{create:function(b,c,d){var e=a.attachGetters,f={};return f.current=c,f.version=d,e(f,f.current,b),f}}}),f("32",["1p"],function(a){var b=a.contains,c=function(a){return function(c){return b(c,a)}},d=function(){try{return!!new ActiveXObject("ChromeTab.ChromeFrame")}catch(a){return!1}},e=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;return{create:function(a){return{browsers:[{name:"Spartan",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return b(a,"edge/")&&b(a,"chrome")&&b(a,"safari")&&b(a,"applewebkit")}},{name:"ChromeFrame",versionRegexes:[/.*?chromeframe\/([0-9]+)\.([0-9]+).*/,e],search:function(c){return!!b(c,"chromeframe")&&a()}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,e],search:function(a){return b(a,"chrome")&&!b(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(c){var d=b(c,"msie")||b(c,"trident");return b(c,"chromeframe")?d&&!a():d}},{name:"Opera",versionRegexes:[e,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:c("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:c("firefox")},{name:"Safari",versionRegexes:[e,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(b(a,"safari")||b(a,"mobile/"))&&b(a,"applewebkit")}},{name:"Envjs",versionRegexes:[/.*?envjs\/\ ?([0-9]+)\.([0-9]+).*/],search:c("envjs")}],oses:[{name:"Windows",search:c("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return b(a,"iphone")||b(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:c("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:c("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:c("linux")},{name:"Solaris",search:c("sunos")},{name:"FreeBSD",search:c("freebsd")}]}},chromeFrameChecker:d}}),f("33",[],function(){return{meetsSpec:function(a,b){var c=typeof a;if("boolean"===c)return!!a;if("object"===c){var d=a.minimum;return b.major>d.major||b.major===d.major&&b.minor>=d.minor}throw"invalid spec"}}}),f("3b",[],function(){return{findOneInArrayOr:function(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];if(c(e,d,a))return e}return b}}}),f("34",["3b"],function(a){return{detect:function(b,c){var d=a.findOneInArrayOr,e=String(c).toLowerCase();return d(b,{name:void 0},function(a){return a.search(e)})}}}),f("35",[],function(){return{detectVersion:function(a,b){function c(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.test(b))return d}}var d=String(b).toLowerCase(),e=a.versionRegexes;return e?function(a,b){var d=c(a,b);if(!d)return{major:0,minor:0};var e=function(a){return Number(b.replace(d,"$"+a))};return{major:e(1),minor:e(2)}}(e,d):{major:0,minor:0}}}}),f("2g",["2z","30","31","32","33","34","35"],function(a,b,c,d,e,f,g){var h=g.detectVersion,i=c.create,j=e.meetsSpec,k=f.detect,l=function(a,b,c,d){return!!a[b]&&(a[b][c]?j(a[b][c],d):!!a[b].All)},m=function(a,b){var c=b.browser,d=b.os;return l(a,d.current,c.current,c.version)},n=function(b,c){var e=d.create(c),f=e.browsers,g=e.oses,j=k(g,b),m=j.name,n=h(j,b),o=k(f,b),p=o.name,q=h(o,b),r=i(g,m,n),s=i(f,p,q);return{browser:s,os:r,deviceType:a(r,s,b),isSupported:function(a){return l(a,m,p,q)}}};return{Platform:b,detect:function(){return n(navigator.userAgent,d.chromeFrameChecker)},doDetect:n,isSupported:l,isSupportedPlatform:m}}),f("2h",["2y"],function(a){var b=function(){return a.getOrDie("Node")},c=function(a,b,c){return 0!=(a.compareDocumentPosition(b)&c)};return{documentPositionPreceding:function(a,d){return c(a,d,b().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(a,d){return c(a,d,b().DOCUMENT_POSITION_CONTAINED_BY)}}}),f("2i",["1z","20","1i","18","14","1b"],function(a,b,c,d,e,f){var g=function(){var a=f.createElement("span");return void 0!==a.matches?0:void 0!==a.msMatchesSelector?1:void 0!==a.webkitMatchesSelector?2:void 0!==a.mozMatchesSelector?3:-1}(),h=a.ELEMENT,i=a.DOCUMENT,j=function(a,b){var c=a.dom();if(c.nodeType!==h)return!1;if(0===g)return c.matches(b);if(1===g)return c.msMatchesSelector(b);if(2===g)return c.webkitMatchesSelector(b);if(3===g)return c.mozMatchesSelector(b);throw new e("Browser lacks native selectors")},k=function(a){return a.nodeType!==h&&a.nodeType!==i||0===a.childElementCount};return{all:function(a,c){var e=void 0===c?f:c.dom();return k(e)?[]:b.map(e.querySelectorAll(a),d.fromDom)},is:j,one:function(a,b){var e=void 0===b?f:b.dom();return k(e)?c.none():c.from(e.querySelector(a)).map(d.fromDom)}}}),f("22",["20","2g","2h","r","2i"],function(a,b,c,d,e){var f=function(a,b){return a.dom()===b.dom()},g=function(a,b){return a.dom().isEqualNode(b.dom())},h=function(b,c){return a.exists(c,d.curry(f,b))},i=function(a,b){var c=a.dom(),d=b.dom();return c!==d&&c.contains(d)},j=function(a,b){return c.documentPositionContainedBy(a.dom(),b.dom())},k=b.detect().browser,l=k.isIE()?j:i;return{eq:f,isEqualNode:g,member:h,contains:l,is:e.is}}),f("1a",["1j","20","r","1i","1m","21","22","18"],function(a,b,c,d,e,f,g,h){var i=function(a){return h.fromDom(a.dom().ownerDocument)},j=function(a){var b=i(a);return h.fromDom(b.dom().documentElement)},k=function(a){var b=a.dom(),c=b.ownerDocument.defaultView;return h.fromDom(c)},l=function(a){var b=a.dom();return d.from(b.parentNode).map(h.fromDom)},m=function(a){return l(a).bind(function(c){var e=u(c),f=b.findIndex(e,function(b){return g.eq(a,b)});return f>-1?d.some(f):d.none()})},n=function(b,d){for(var e=a.isFunction(d)?d:c.constant(!1),f=b.dom(),g=[];null!==f.parentNode&&void 0!==f.parentNode;){var i=f.parentNode,j=h.fromDom(i);if(g.push(j),!0===e(j))break;f=i}return g},o=function(a){var c=function(c){return b.filter(c,function(b){return!g.eq(a,b)})};return l(a).map(u).map(c).getOr([])},p=function(a){var b=a.dom();return d.from(b.offsetParent).map(h.fromDom)},q=function(a){var b=a.dom();return d.from(b.previousSibling).map(h.fromDom)},r=function(a){var b=a.dom();return d.from(b.nextSibling).map(h.fromDom)},s=function(a){return b.reverse(f.toArray(a,q))},t=function(a){return f.toArray(a,r)},u=function(a){var c=a.dom();return b.map(c.childNodes,h.fromDom)},v=function(a,b){var c=a.dom().childNodes;return d.from(c[b]).map(h.fromDom)},w=function(a){return v(a,0)},x=function(a){return v(a,a.dom().childNodes.length-1)},y=function(a,b){return a.dom().childNodes.length},z=e.immutable("element","offset");return{owner:i,defaultView:k,documentElement:j,parent:l,findIndex:m,parents:n,siblings:o,prevSibling:q,offsetParent:p,prevSiblings:s,nextSibling:r,nextSiblings:t,children:u,child:v,firstChild:w,lastChild:x,childNodesCount:y,leaf:function(a,b){var c=u(a);return c.length>0&&b<c.length?z(c[b],0):z(a,b)}}}),f("1c",["20","12","19"],function(a,b,c){var d=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"];return{isBlock:function(d){var e;return function(f){return e=e||a.mapToObject(d,b.constant(!0)),e.hasOwnProperty(c.name(f))}}(d)}}),f("j",["15","f","12","g","16","17","18","19","1a","1b","1c","i"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=f.immutable("start","end","caret"),n=function(a){var b=a.startContainer,c=a.startOffset;return void 0===b?d.none():3===b.nodeType?0===c?d.some(b).map(g.fromDom):d.none():d.from(b.childNodes[c]).map(g.fromDom)},o=function(a){return"br"===h.name(a)},p=function(a){if(!1===a.collapsed)return d.none();var c=n(a),f=c.bind(i.prevSibling).filter(o),g=f.map(i.prevSiblings).bind(function(a){return b.find(a.reverse(),l.or(o,k.isBlock)).fold(function(){return d.from(a[a.length-1])},i.nextSibling)});return e.liftN([g,f,c],m)},q=function(a){return e.liftN([i.parent(a.start()),i.parent(a.end())],function(){var b=j.createRange();return b.setStartBefore(a.start().dom()),b.setEndAfter(a.end().dom()),b})};return{findPreviousLine:p,lineInfoToRng:q,lineInfoToString:function(a){return q(a).fold(c.constant(""),function(a){return a.toString()})}}}),g("1d",tinymce.html.Serializer),f("k",["1b","1d","j","6"],function(a,b,c,d){var e=function(a){return 1===a.nodeType?a:e(a.nextSibling)},f=function(a,c){var d=a.parser.parse(c,{isRootContent:!0,forced_root_block:!1}),e=new b({validate:!0},a.schema).serialize(d);return a.dom.createFragment(e)},g=function(a,b){return b&&b.nodeName===a},h=function(a){return a&&null!==a.parentNode},i=function(a,b){var c=a.dom.createFragment(b);return e(c.firstChild)},j=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},k=function(a,b,c){var d=f(a,c.outerHTML);a.undoManager.transact(function(){j(b),b.appendChild(d)})},l=function(a,b,c){var d=f(a,c.outerHTML),e=d.firstChild;a.undoManager.transact(function(){b.parentNode.replaceChild(e,b)})},m=function(b){var c=a.createElement("div");return c.appendChild(b.cloneNode(!0)),c},n=function(a){return(g("VIDEO",a)||g("AUDIO",a))&&(a.style.width="100%"),a},o=function(a,b,c){var d=c.cloneNode(!0);return d.style.maxWidth||(d.style.maxWidth=b+"px"),d.setAttribute("data-ephox-embed-iri",a),d.contentEditable=!1,d},p=function(a,b,c){return g("DIV",b)?o(a,c,b):o(a,c,m(n(b)))},q=function(a,b,c){return g("A",b)?b:p(a,b,c)},r=function(a,b,c){var e=i(a,c);return q(b,e,d.getMaxWidth(a.settings)).outerHTML},s=function(a,b){var c=b.caret().dom(),d=a.dom.createRng();3===c.nodeType?(d.setStart(c,0),d.setEnd(c,0)):(d.setStartBefore(c),d.setEndAfter(c)),a.selection.setRng(d)};return{replaceNode:function(a,b,c,e){b.filter(h).map(function(b){var f=q(c,i(a,e),d.getMaxWidth(a.settings));g("DIV",f)?l(a,b,f):k(a,b,f)})},getDialogHtml:r,replaceRng:function(a,b,e,g){b.map(function(b){c.lineInfoToRng(b).each(function(c){var h=q(e,i(a,g),d.getMaxWidth(a.settings)),j=f(a,h.outerHTML);a.undoManager.transact(function(){c.deleteContents(),c.insertNode(j),c.collapse(!1),s(a,b)})})})}}}),f("m",[],function(){return{checkUrl:function(a){return/^https?:\/\/\S+$/i.test(a.trim())}}}),f("23",["f"],function(a){var b=function(b){var c=b.split(" "),d={};return a.each(c,function(a){d[a.toLowerCase()]=!0}),d};return{makeValidator:function(a){var c=b(a);return function(a){return!!a&&a.nodeName.toLowerCase()in c}}}}),f("1e",["23","f","12"],function(a,b,c){var d=a.makeValidator("h1 h2 h3 h4 h5 h6 p span"),e=a.makeValidator("strong em b span a br"),f=function(a){return a?a.querySelectorAll("*"):[]},g=function(a){return b.find(f(a),c.not(e)).isNone()};return{hasValidChildren:g,hasValidParent:d,isValidElm:function(a){return d(a)&&g(a)}}}),f("l",["m","1e","g","i"],function(a,b,c,d){return{extractUrl:function(e){return c.from(e).filter(b.isValidElm).bind(d.safeProp("textContent")).filter(a.checkUrl)}}}),f("3",["g","h","i","j","k","l","6","m"],function(a,b,c,d,e,f,g,h){var i=function(a,b,d,g){var h=c.safeProp("previousSibling")(a.newBlock);h.bind(f.extractUrl).map(function(a){d.getAndHandleResponse(a,function(c){var d=c.recommended().html();e.replaceNode(b,h,a,d)},g.showNotificationError)})},j=function(a,b,c,f){var g=b.selection.getRng(),i=d.findPreviousLine(g);i.map(d.lineInfoToString).filter(h.checkUrl).map(function(a){c.getAndHandleResponse(a,function(c){var d=c.recommended().html();e.replaceRng(b,i,a,d)},f.showNotificationError)})};return{setup:function(a,b,c){a.on("newBlock",function(d){i(d,a,b,c)}),a.settings.forced_root_block||a.on("keydown",function(d){13===d.keyCode&&j(0,a,b,c)})}}}),f("4",["6","k","m"],function(a,b,c){var d=function(a,d,e){return function(f,g){if(!1===c.checkUrl(f.url))return void g({html:""});d.getAndHandleResponse(f.url,function(c){var d=c.recommended().html();g({html:b.getDialogHtml(a,f.url,d)})},e.showDialogError)}};return{setup:function(a,b,c){"media_url_resolver"in a.settings==!1&&(a.settings.media_url_resolver=d(a,b,c))}}}),g("a",tinymce.Env),g("n",tinymce.html.Node),f("5",["a","f","n"],function(a,b,c){var d=function(a){b.each(a,function(a){var b;b=new c("span",1),b.attr("class","mce-shim"),b.attr("data-mce-bogus","1"),a.append(b),a.attr("contenteditable","false")})},e=function(a){b.each(a,function(a){a.attr("contenteditable",null)})};return{setupCeFalse:function(b){b.on("click keyup",function(){var a=b.selection.getNode();a&&b.dom.getAttrib(a,"data-ephox-embed-iri")&&b.dom.getAttrib(a,"data-mce-selected")&&a.setAttribute("data-mce-selected","2")}),a.ceFalse&&b.on("PreInit",function(){b.parser.addAttributeFilter("data-ephox-embed-iri",d),b.serializer.addAttributeFilter("data-ephox-embed-iri",e)})}}}),f("o",[],function(){var a=function(a){return parseInt(a,10)},b=function(a){return function(){return a}},c=function(a,c,d){return{major:b(a),minor:b(c),patch:b(d)}},d=function(b){var d=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(b);return d?c(a(d[1]),a(d[2]),a(d[3])):c(0,0,0)},e=function(a,b){var c=a-b;return 0===c?0:c>0?1:-1};return{nu:c,parse:d,compare:function(a,b){var c=e(a.major(),b.major());if(0!==c)return c;var d=e(a.minor(),b.minor());if(0!==d)return d;var f=e(a.patch(),b.patch());return 0!==f?f:0}}}),f("7",["o"],function(a){var b=function(a){return[a.majorVersion,a.minorVersion].join(".").split(".").slice(0,3).join(".")},c=function(c){return c?a.parse(b(c)):null};return{getVersion:c,isLessThan:function(b,d){return a.compare(c(b),a.parse(d))<0}}}),g("p",window),f("8",["p"],function(a){var b=function(a,b){return function(){var c=a.console;c&&b in c&&c[b].apply(c,arguments)}};return{log:b(a,"log"),error:b(a,"error"),warn:b(a,"warm")}}),g("9",tinymce),g("b",tinymce.PluginManager),f("0",["1","2","3","4","5","6","7","8","9","a","b"],function(a,b,c,d,e,f,g,h,i,j,k){var l=function(a,b){var c=b+"/content.min.css",d=f.getCss(a.settings,c);a.dom.loadCSS(d)},m=function(g,h){var i=b(g),j=a(g.settings);return e.setupCeFalse(g),g.on("Init",function(){l(g,h)}),g.on("SkinLoaded",function(){f.hasServiceUrl(g.settings)?(c.setup(g,j,i),d.setup(g,j,i)):i.showNotificationMsg("You need to specify the mediaembed_service_url setting")}),{}},n=function(a,b){return i.Env.ceFalse?g.isLessThan(i,"4.5.2")?(h.error("The mediaembed plugin requires at least 4.5.2 version of TinyMCE."),{}):m(a,b):{}};return k.add("mediaembed",n),function(){}}),d("0")()}();